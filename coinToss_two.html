<script>
(function() {
var greeting = prompt('Do you want to play? Type yes or no.');//prompts user
var retry = true;//Makes while loop run

var coinFlip = function() {//Runs coin toss game
  var coinFace = Math.floor(Math.random() * 2);//Generates random number 1-0

  if(greeting === 'yes'){
    var guess = prompt('Heads or tails? (press 0 for heads, 1 for tails)');
    var heads = 0;
    var tails = 1;
      if(guess == heads && coinFace == heads) {//Guess AND coin must match
        alert('It\'s heads. You guessed right!');
        retry = false;//Stops loop
      } else if(guess == tails && coinFace == tails) {
        alert('It\'s tails. You guessed right!');
        retry = false;
      } else {
        alert('Wrong answer! Try again.');
      }
    } else {
      alert('Maybe next time')
      retry = false;
    };
  };

  while(retry){//Calls loop
    coinFlip();
  }
});
</script>
